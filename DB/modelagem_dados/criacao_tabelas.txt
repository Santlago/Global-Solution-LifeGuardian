-- Generated by Oracle SQL Developer Data Modeler 23.1.0.087.0806
--   at:        2023-11-21 12:42:15 BRT
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g



-- predefined type, no DDL - MDSYS.SDO_GEOMETRY

-- predefined type, no DDL - XMLTYPE

CREATE TABLE gs_conteudo (
    conteudo_id NUMBER(5) NOT NULL,
    medico_crm  VARCHAR2(20),
    image       VARCHAR2(80) NOT NULL,
    text        CLOB NOT NULL
);

ALTER TABLE gs_conteudo ADD CONSTRAINT conteudo_pk PRIMARY KEY ( conteudo_id );

CREATE TABLE gs_endereco (
    endereco_id      NUMBER(5) NOT NULL,
    PESSOA_ID NUMBER(5) NOT NULL,
    cep              VARCHAR2(10) NOT NULL,
    rua              VARCHAR2(80) NOT NULL,
    numero           VARCHAR2(10) NOT NULL,
    bairro           VARCHAR2(80) NOT NULL,
    cidade           VARCHAR2(80) NOT NULL,
    uf               VARCHAR2(2) NOT NULL
);

CREATE UNIQUE INDEX endereco__idx ON
    gs_endereco (
        PESSOA_ID
    ASC );

ALTER TABLE gs_endereco ADD CONSTRAINT endereco_pk PRIMARY KEY ( endereco_id );

CREATE TABLE gs_medico (
    nome               VARCHAR2(50) NOT NULL,
    crm                VARCHAR2(20) NOT NULL,
    USUARIO_ID NUMBER(5) NOT NULL,
    especialidade      VARCHAR2(50) NOT NULL,
    formacao           VARCHAR2(50) NOT NULL,
    autenticado        VARCHAR2(10) NOT NULL
);

CREATE UNIQUE INDEX medico__idx ON
    gs_medico (
        USUARIO_ID
    ASC );

ALTER TABLE gs_medico ADD CONSTRAINT medico_pk PRIMARY KEY ( crm );

CREATE TABLE gs_pessoa (
    pessoa_id          NUMBER(5) NOT NULL,
    USUARIO_ID NUMBER(5) NOT NULL,
    nome               VARCHAR2(80) NOT NULL,
    cpf                VARCHAR2(14) NOT NULL,
    email              VARCHAR2(90) NOT NULL,
    telefone           VARCHAR2(20) NOT NULL,
    idade              NUMBER(3) NOT NULL,
    genero             VARCHAR2(18) NOT NULL
);

CREATE UNIQUE INDEX pessoa__idx ON
    gs_pessoa (
        USUARIO_ID
    ASC );

ALTER TABLE gs_pessoa ADD CONSTRAINT pessoa_pk PRIMARY KEY ( pessoa_id );

CREATE TABLE gs_ticket (
    ticket_id  NUMBER(5) NOT NULL,
    assunto    VARCHAR2(40) NOT NULL,
    comentario CLOB NOT NULL
);

ALTER TABLE gs_ticket ADD CONSTRAINT ticket_pk PRIMARY KEY ( ticket_id );

CREATE TABLE gs_usuario (
    usuario_id  NUMBER(5) NOT NULL,
    email       VARCHAR2(90) NOT NULL,
    login       VARCHAR2(40) NOT NULL,
    senha       VARCHAR2(30) NOT NULL,
    autenticado VARCHAR2(10) NOT NULL
);

ALTER TABLE gs_usuario ADD CONSTRAINT usuario_pk PRIMARY KEY ( usuario_id );

ALTER TABLE gs_conteudo
    ADD CONSTRAINT conteudo_medico_fk FOREIGN KEY ( medico_crm )
        REFERENCES gs_medico ( crm );

ALTER TABLE gs_endereco
    ADD CONSTRAINT endereco_pessoa_fk FOREIGN KEY ( PESSOA_ID )
        REFERENCES gs_pessoa ( pessoa_id );

ALTER TABLE gs_medico
    ADD CONSTRAINT medico_usuario_fk FOREIGN KEY ( usuario_id )
        REFERENCES gs_usuario ( usuario_id );

ALTER TABLE gs_pessoa
    ADD CONSTRAINT pessoa_usuario_fk FOREIGN KEY ( usuario_id )
        REFERENCES gs_usuario ( usuario_id );
